<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–≤–µ—Å—Ç –¥–ª—è —Å–∞–º–æ–π –ª—é–±–∏–º–æ–π ‚ù§Ô∏è</title>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: #2b2b2b;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #ffe6ec, #ffd1dc);
      overflow: hidden;
    }

    .bg-heart {
      position: fixed;
      font-size: 40px;
      color: rgba(220, 0, 60, 0.25);
      user-select: none;
      pointer-events: none;
      transform: rotate(var(--rot));
    }

    .card {
      background: #fff;
      border-radius: 24px;
      padding: 40px 32px;
      width: 600px;
      max-width: 90%;
      box-shadow: 0 30px 60px rgba(0,0,0,0.15);
      text-align: center;
    }

    h1 { font-size: 2rem; margin-bottom: 20px; }
    p { font-size: 1.1rem; line-height: 1.5; white-space: pre-line; }

    input {
      width: 100%;
      max-width: 360px;
      padding: 14px;
      margin-top: 20px;
      font-size: 1rem;
      border-radius: 12px;
      border: 1px solid #ccc;
    }

    button, a {
      margin-top: 20px;
      width: 240px;
      padding: 14px;
      font-size: 1rem;
      border-radius: 14px;
      border: none;
      cursor: pointer;
      display: inline-block;
      text-decoration: none;
    }

    .btn-yes { background: #4CAF50; color: #fff; }
    .btn-no {
      background: #fff;
      color: #000;
      border: 2px solid #000;
      position: relative;
      cursor: pointer;
      transition: transform 0.45s cubic-bezier(0.22, 1, 0.36, 1);
      will-change: transform;
    }

    .btn-group {
      position: relative;
      height: 220px;
      margin-top: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 40px;
    }

    .dogs { width: 220px; margin-bottom: 20px; }
  </style>
</head>
<body>
  <div class="card" id="app"></div>

  <script>
    const app = document.getElementById('app');

    const steps = [
      { title: '–¢—ã –±—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?', text: '–í—ã–±–µ—Ä–∏ –æ—Ç–≤–µ—Ç –Ω–∏–∂–µ', start: true },
      { title: '–í–æ–ø—Ä–æ—Å ‚Ññ1 üê∂', text: '–ï—Å—Ç—å –º–µ—Å—Ç–æ, –∫–æ—Ç–æ—Ä–æ–µ –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–µ –ª—é–±–∏—Ç –Ω–∞—à–∞ —Å–æ–±–∞–∫–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–≥—É–ª–∫–∏. –ê —Ç–µ–±–µ —Ç–∞–º —Å–µ–π—á–∞—Å —Å—Ç–æ–∏—Ç –ø–æ–±—ã–≤–∞—Ç—å üòâ', answer: ['–≤–∞–Ω–Ω–∞—è','–≤–∞–Ω–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞'], success: '–í–µ—Ä–Ω–æ! –ò–¥–∏ —Ç—É–¥–∞. –¢–∞–º —Ç–µ–±—è –∂–¥—ë—Ç –ø–µ—Ä–≤—ã–π –ø–æ–¥–∞—Ä–æ–∫ üíê', video: 'https://vkvideo.ru/video-227596514_456242908?t=1h19m11s' },
      { title: '–í–æ–ø—Ä–æ—Å ‚Ññ2 üéÑ', text: '–ú—ã —Ç–∞–∫ –∏ –Ω–µ —Å–º–æ–≥–ª–∏ –ø–æ–ø—Ä–æ—â–∞—Ç—å—Å—è —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º. –ì–¥–µ –≤ –Ω–∞—à–µ–º –¥–æ–º–µ –¥–æ —Å–∏—Ö –ø–æ—Ä –∂–∏–≤—ë—Ç –ù–æ–≤—ã–π –≥–æ–¥?', answer: ['–µ–ª–∫–∞','—ë–ª–∫–∞'], success: '–î–∞! –ü–æ—Ä–∞ –∑–∞–≥–ª—è–Ω—É—Ç—å —Ç—É–¥–∞ üéÅ' },
      { title: '–í–æ–ø—Ä–æ—Å ‚Ññ3 ‚ú®', text: '–≠—Ç–æ—Ç –ø—Ä–µ–¥–º–µ—Ç —Ç—ã –≤—ã–±—Ä–∞–ª–∞ —Å–∞–º–∞, –∞ —è —Å–æ–±—Ä–∞–ª –µ–≥–æ —Å –ª—é–±–æ–≤—å—é. –ì–¥–µ –æ–Ω –∂–∏–≤—ë—Ç?', answer: ['–∫–æ–º–æ–¥','–±—É–¥—É–∞—Ä–Ω—ã–π –∫–æ–º–æ–¥'], success: '–ê–±—Å–æ–ª—é—Ç–Ω–æ —Ç–æ—á–Ω–æ ‚ù§Ô∏è –ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–æ–¥–∞—Ä–æ–∫ –∂–¥—ë—Ç —Ç–µ–±—è —Ç–∞–º.' },
      { title: '–§–∏–Ω–∞–ª üíñ', text: '–≠—Ç–æ—Ç –∫–≤–µ—Å—Ç ‚Äî –º–∞–ª–µ–Ω—å–∫–∞—è –∏–≥—Ä–∞. –ù–æ –º–æ–∏ —á—É–≤—Å—Ç–≤–∞ –∫ —Ç–µ–±–µ ‚Äî —Å–∞–º–∞—è —Å–µ—Ä—å—ë–∑–Ω–∞—è –≤–µ—â—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏.\n\n–Ø –ª—é–±–ª—é —Ç–µ–±—è.' }
    ];

    let step = 0;

    function addHearts() {
      for (let i = 0; i < 25; i++) {
        const h = document.createElement('div');
        h.className = 'bg-heart';
        h.textContent = '‚ù§';
        h.style.left = Math.random() * 100 + 'vw';
        h.style.top = Math.random() * 100 + 'vh';
        h.style.setProperty('--rot', Math.random() * 360 + 'deg');
        document.body.appendChild(h);
      }
    }

    function render() {
      if (step >= steps.length) return;
      const s = steps[step];
      app.innerHTML = '';

      const h1 = document.createElement('h1');
      h1.textContent = s.title;
      app.appendChild(h1);

      const p = document.createElement('p');
      p.textContent = s.text;
      app.appendChild(p);

      if (s.start) {
        const img = document.createElement('img');
        img.src = 'img/shiba-kiss.jpg';
        img.className = 'dogs';
        app.appendChild(img);

        const group = document.createElement('div');
        group.className = 'btn-group';

        const yes = document.createElement('button');
        yes.textContent = '–î–∞';
        yes.className = 'btn-yes';
        yes.onclick = () => { step++; addHearts(); render(); };

        const no = document.createElement('button');
        no.textContent = '–ù–µ—Ç';
        no.className = 'btn-no';

        let escaped = false;
        let isEvading = false;

        const evade = () => {
          if (isEvading) return;
          isEvading = true;

          const angle = Math.random() * Math.PI * 2;
          const distance = 300 + Math.random() * 180;
          const x = Math.cos(angle) * distance;
          const y = Math.sin(angle) * distance;

          requestAnimationFrame(() => {
            no.style.transform = `translate(${x}px, ${y}px)`;
          });

          escaped = true;

          setTimeout(() => {
            isEvading = false;
          }, 180);
        };

        no.addEventListener('mouseenter', evade);

        group.addEventListener('mouseleave', () => {
          if (escaped) {
            no.style.transform = 'translate(0, 0)';
            escaped = false;
          }
        });

        group.appendChild(yes);
        group.appendChild(no);
        app.appendChild(group);
        return;
      }

      if (s.answer) {
        const input = document.createElement('input');
        input.placeholder = '–¢–≤–æ–π –æ—Ç–≤–µ—Ç‚Ä¶';
        app.appendChild(input);

        const btn = document.createElement('button');
        btn.textContent = '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å';
        btn.onclick = () => {
          const val = input.value.trim().toLowerCase();
          if (s.answer.includes(val)) {
            app.innerHTML = `<h1>${s.title}</h1><p>${s.success}</p>`;
            if (s.video) {
              const a = document.createElement('a');
              a.href = s.video;
              a.target = '_blank';
              a.textContent = '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç ‚ù§Ô∏è';
              app.appendChild(a);
            }
            const nextBtn = document.createElement('button');
            nextBtn.textContent = '–î–∞–ª—å—à–µ';
            nextBtn.onclick = () => { step++; render(); };
            app.appendChild(nextBtn);
          } else {
            input.value = '';
            input.placeholder = '–ü–æ–¥—É–º–∞–π –µ—â—ë üòâ';
          }
        };
        app.appendChild(btn);
      }
    }

    render();
  </script>
</body>
</html>

